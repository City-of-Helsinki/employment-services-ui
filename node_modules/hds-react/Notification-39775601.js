import e,{useState as t,useCallback as o,useEffect as a}from"react";import{c as i}from"./classNames-51fcabcb.js";import"./Icon.module-e854ac32.js";import{I as n}from"./IconAlertCircle-2c190eb1.js";import{I as s}from"./IconCheck-0bd9e581.js";import{I as l}from"./IconCross-9edb5bca.js";import{a as r,I as c}from"./IconInfoCircle-80fa0c7c.js";import"./base.min-dacc0a02.js";import{s as m}from"./Notification.module-c37ee8c2.js";import{useSpring as d,animated as f}from"react-spring";import{VisuallyHidden as u}from"@react-aria/visually-hidden";const p={info:r,success:s,error:c,alert:n},b=({visuallyHidden:t,children:o})=>t?e.createElement(u,null,o):o,y=e.forwardRef((({autoClose:n=!1,autoCloseDuration:s=6e3,children:r,className:c="",closeAnimationDuration:u=85,closeButtonLabelText:y,dataTestId:N,dismissible:C=!1,displayAutoCloseProgress:E=!0,invisible:I=!1,label:j,position:v="inline",onClose:g=(()=>null),size:h="default",style:T,type:w="info"},x)=>{"inline"!==v&&"large"===h&&(console.warn("Size '".concat(h,"' is only allowed for inline positioned notifications")),h="default"),"inline"===v&&n&&(console.warn("The 'autoClose' property is not allowed for inline positioned notifications"),n=!1);const[A,H]=t(!0),k=o((()=>{H(!1),setTimeout((()=>g()),u)}),[g,u]);a((()=>{const e=setTimeout((()=>{n&&k()}),s);return()=>clearTimeout(e)}),[n,s,k]);const z=p[w],B="inline"!==v?(e=>{const t=e.includes("center"),o=e.includes("top");return{from:{transform:"translate3d(".concat(t?"-50%":"0",", ").concat(o?"-":"","32px, 0)"),opacity:.66},to:{transform:"translate3d(".concat(t?"-50%":"0",", 0, 0)"),opacity:1},config:{friction:30,tension:300}}})(v):{},D={from:{opacity:1},to:{opacity:0},config:{duration:u}};const O=E?(e=>({from:{transform:"translate3d(-100%, 0, 0)"},to:{transform:"translate3d(0%, 0, 0)"},config:{duration:e}}))(s):{},L=d(A?B:D),P=d(O),R="inline"!==v?"alert":null;return e.createElement(b,{visuallyHidden:I},e.createElement(f.section,{style:Object.assign(Object.assign({},L),T),className:i(m[v],m.notification,m[h],m[w],n&&m.noBorder,c),"aria-label":"Notification","aria-atomic":"true","data-testid":N},n&&e.createElement(f.div,{style:P,className:m.autoClose}),e.createElement("div",{className:m.content,role:R,ref:x},e.createElement("div",{className:m.label,role:"heading","aria-level":2},e.createElement(z,{className:m.icon,"aria-hidden":!0}),e.createElement(b,{visuallyHidden:"small"===h},j)),r&&e.createElement("div",{className:m.body},r)),C&&e.createElement("button",{className:i(m.close,m[w]),type:"button",title:y,"aria-label":y,onClick:k},e.createElement(l,{"aria-hidden":!0}))))}));export{y as N};
