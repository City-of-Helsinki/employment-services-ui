import o,{useRef as e,useState as r}from"react";import{c as d}from"./classNames-51fcabcb.js";import{s as l}from"./style-inject.es-4a6aca40.js";import"./Icon.module-e854ac32.js";import{I as n}from"./IconAlertCircle-2c190eb1.js";import{I as t}from"./IconAngleDown-66217044.js";import{I as a}from"./IconCheck-0bd9e581.js";import"./base.min-dacc0a02.js";import{C as i}from"./Checkbox-8c612ba6.js";import{u as c,a as s,b as u}from"./downshift.esm-e321a728.js";import _ from"lodash.isequal";import{F as m}from"./FieldLabel-77d98fa7.js";var p="Dropdown-module_root__3ro8_",w="Dropdown-module_dropdown__34HBV",b="Dropdown-module_wrapper__1sFxz",v="Dropdown-module_angleIcon__3-f8N",g="Dropdown-module_open__Zl4fj",h="Dropdown-module_buttonDropdown__2xA1D Dropdown-module_dropdown__34HBV",D="Dropdown-module_placeholder__1kfMz",f="Dropdown-module_buttonLabel__3y4eg",I="Dropdown-module_filterDropdown__1uiLn",x="Dropdown-module_invalid__2f3UO",k="Dropdown-module_helperText__-_vv-",y="Dropdown-module_disabled__sDjft",j="Dropdown-module_menu__3xwA0",O="Dropdown-module_overflow__3tPgF",z="Dropdown-module_menuItem__2COLT",C="Dropdown-module_highlighted__3Wx_n",T="Dropdown-module_multiselect__1IZP3",E="Dropdown-module_selected__3yuWG",L="Dropdown-module_checkbox__34yul",N="Dropdown-module_invalidIcon__18z80",B="Dropdown-module_selectedIcon__2Bk9U";l('.Dropdown-module_root__3ro8_{--border-radius:2px;--border-width:2px;--outline-width:3px;--dropdown-height:var(--spacing-3-xl);--icon-size:var(--spacing-m);--menu-z-index:10;--dropdown-background-default:var(--color-white);--dropdown-background-disabled:var(--color-black-10);--dropdown-border-color-default:var(--color-black-50);--dropdown-border-color-hover:var(--color-black-90);--dropdown-border-color-focus:var(--color-black-90);--dropdown-border-color-invalid:var(--color-error);--dropdown-border-color-disabled:var(--color-black-10);--dropdown-color-default:var(--color-black-90);--dropdown-color-disabled:var(--color-black-40);--focus-outline-color:var(--color-coat-of-arms);--helper-color-default:var(--color-black-60);--helper-color-invalid:var(--color-error);--icon-color-invalid:var(--color-error);--menu-separator-color:var(--color-black-20);--menu-item-background-default:var(--color-white);--menu-item-background-hover:var(--color-black-10);--menu-item-background-selected:var(--color-bus);--menu-item-background-selected-hover:var(--color-bus-dark);--menu-item-background-multiselect-selected:var(--color-white);--menu-item-background-disabled:var(--color-white);--menu-item-color-default:var(--color-black-90);--menu-item-color-hover:var(--color-black-90);--menu-item-color-selected:var(--color-white);--menu-item-color-selected-hover:var(--color-white);--menu-item-color-multiselect-selected:var(--color-black-90);--menu-item-color-disabled:var(--color-black-40);--menu-item-icon-color-selected:var(--color-white);--menu-item-icon-color-disabled:var(--color-black-40);--placeholder-color:var(--color-black-60);position:relative}.Dropdown-module_root__3ro8_,.Dropdown-module_root__3ro8_ *,.Dropdown-module_root__3ro8_ :after,.Dropdown-module_root__3ro8_ :before{box-sizing:border-box}.Dropdown-module_dropdown__34HBV:hover{transition:border-color 85ms ease-out}.Dropdown-module_dropdown__34HBV:focus-within .Dropdown-module_wrapper__1sFxz:before{transition:85ms ease-out;transition-property:opacity,transform}.Dropdown-module_angleIcon__3-f8N{transition:transform .2s cubic-bezier(.39,.58,.57,1)}.Dropdown-module_wrapper__1sFxz{position:relative;width:100%;z-index:0}.Dropdown-module_dropdown__34HBV{background-color:var(--dropdown-background-default);border:var(--border-width) solid var(--dropdown-border-color-default);border-radius:var(--border-radius);color:var(--dropdown-color-default);font-size:var(--fontsize-body-l);height:var(--dropdown-height);line-height:normal;padding:var(--spacing-s) calc(var(--icon-size) + var(--spacing-l)) var(--spacing-s) var(--spacing-s);text-overflow:ellipsis;width:100%}.Dropdown-module_dropdown__34HBV:hover,.Dropdown-module_root__3ro8_.Dropdown-module_open__Zl4fj .Dropdown-module_dropdown__34HBV{border-color:var(--dropdown-border-color-hover)}.Dropdown-module_dropdown__34HBV:focus{border-color:var(--dropdown-border-color-focus);outline:none}.Dropdown-module_dropdown__34HBV::placeholder{color:var(--placeholder-color)}.Dropdown-module_buttonDropdown__2xA1D{align-items:center;display:flex;padding-bottom:0;padding-top:0}.Dropdown-module_buttonDropdown__2xA1D.Dropdown-module_placeholder__1kfMz{color:var(--placeholder-color)}.Dropdown-module_buttonDropdown__2xA1D .Dropdown-module_buttonLabel__3y4eg{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.Dropdown-module_filterDropdown__1uiLn{background:none;border:none;color:inherit;cursor:pointer;font:inherit;padding:0}.Dropdown-module_invalid__2f3UO .Dropdown-module_helperText__-_vv-{color:var(--helper-color-invalid)}.Dropdown-module_invalid__2f3UO .Dropdown-module_dropdown__34HBV{border-color:var(--dropdown-border-color-invalid);padding-right:calc(var(--icon-size) * 2 + var(--spacing-2-xl))}.Dropdown-module_root__3ro8_.Dropdown-module_disabled__sDjft .Dropdown-module_wrapper__1sFxz>*{cursor:not-allowed}.Dropdown-module_dropdown__34HBV[disabled]{background-color:var(--dropdown-background-disabled);border-color:var(--dropdown-border-color-disabled);color:var(--dropdown-color-disabled)}.Dropdown-module_wrapper__1sFxz:before{--offset:calc(var(--outline-width) * -1);--outline-size:calc(100% + var(--outline-width) * 2);background-color:var(--focus-outline-color);border-radius:var(--border-radius);content:"";height:var(--outline-size);left:0;opacity:0;position:absolute;top:0;transform:translate(var(--offset),var(--offset)) scale(.98,.85);width:var(--outline-size);z-index:-1}.Dropdown-module_root__3ro8_:focus-within .Dropdown-module_wrapper__1sFxz:before{opacity:1;transform:translate(var(--offset),var(--offset)) scale(1)}.Dropdown-module_helperText__-_vv-{color:var(--helper-color-default);font-size:var(--fontsize-body-m);margin-top:var(--spacing-3-xs)}.Dropdown-module_menu__3xwA0{display:none;z-index:var(--menu-z-index)}.Dropdown-module_root__3ro8_.Dropdown-module_open__Zl4fj .Dropdown-module_menu__3xwA0{border:solid var(--dropdown-border-color-focus);border-radius:var(--border-radius);border-left-width:var(--border-width);border-bottom-width:var(--border-width);border-right-width:var(--border-width);border-top-width:0;display:block;list-style:none;margin:0;outline:none;padding:0;position:absolute;transform:translateY(calc(var(--border-width) * -1));width:100%}.Dropdown-module_menu__3xwA0.Dropdown-module_overflow__3tPgF{overflow-y:scroll}.Dropdown-module_menuItem__2COLT{align-items:center;background-color:var(--menu-item-background-default);color:var(--menu-item-color-default);cursor:pointer;display:flex;font-size:var(--fontsize-body-l);justify-content:space-between;line-height:1.333;min-height:var(--dropdown-height);padding:var(--spacing-xs) var(--spacing-s)}.Dropdown-module_menuItem__2COLT:first-of-type{border-top:1px solid var(--menu-separator-color)}.Dropdown-module_menuItem__2COLT.Dropdown-module_highlighted__3Wx_n,.Dropdown-module_menuItem__2COLT.Dropdown-module_multiselect__1IZP3.Dropdown-module_highlighted__3Wx_n.Dropdown-module_selected__3yuWG{background-color:var(--menu-item-background-hover);color:var(--menu-item-color-hover)}.Dropdown-module_menuItem__2COLT.Dropdown-module_selected__3yuWG{background-color:var(--menu-item-background-selected);color:var(--menu-item-color-selected)}.Dropdown-module_menuItem__2COLT.Dropdown-module_highlighted__3Wx_n.Dropdown-module_selected__3yuWG{background-color:var(--menu-item-background-selected-hover);color:var(--menu-item-color-selected-hover)}.Dropdown-module_menuItem__2COLT.Dropdown-module_disabled__sDjft,.Dropdown-module_menuItem__2COLT.Dropdown-module_disabled__sDjft.Dropdown-module_highlighted__3Wx_n{background-color:var(--menu-item-background-disabled);color:var(--menu-item-color-disabled);cursor:not-allowed}.Dropdown-module_menuItem__2COLT.Dropdown-module_multiselect__1IZP3{justify-content:flex-start}.Dropdown-module_menuItem__2COLT.Dropdown-module_multiselect__1IZP3.Dropdown-module_selected__3yuWG{background-color:var(--menu-item-background-multiselect-selected);color:var(--menu-item-color-multiselect-selected)}.Dropdown-module_checkbox__34yul{--label-padding:var(--spacing-s);pointer-events:none}.Dropdown-module_menuItem__2COLT.Dropdown-module_highlighted__3Wx_n .Dropdown-module_checkbox__34yul{--border-color-unselected:var(--color-black-90);--label-color:var(--menu-item-color-hover)}.Dropdown-module_angleIcon__3-f8N{--padding:var(--spacing-2-xs);--angle-size:calc(var(--icon-size) + var(--padding) * 2);color:var(--dropdown-color-default);height:var(--angle-size);outline:none;padding:var(--padding);position:absolute;right:calc(var(--spacing-s) + var(--border-width) - var(--padding));top:0;transform:translateY(calc(var(--dropdown-height) / 2 - 50%));width:var(--angle-size)}.Dropdown-module_root__3ro8_.Dropdown-module_open__Zl4fj .Dropdown-module_angleIcon__3-f8N{transform:translateY(calc(var(--dropdown-height) / 2 - 50%)) rotateX(180deg)}.Dropdown-module_root__3ro8_.Dropdown-module_disabled__sDjft .Dropdown-module_angleIcon__3-f8N{color:var(--dropdown-color-disabled)}.Dropdown-module_invalidIcon__18z80{--x:calc((var(--border-width) + (var(--spacing-l) + var(--icon-size)) * -1));--y:calc(var(--dropdown-height) / 2 - 50%);content:"";color:var(--icon-color-invalid);height:var(--icon-size);pointer-events:none;position:absolute;right:0;top:0;transform:translate(var(--x),var(--y));width:var(--icon-size)}.Dropdown-module_selectedIcon__2Bk9U{color:var(--menu-item-icon-color-selected);height:var(--icon-size);margin-left:auto;width:var(--icon-size)}.Dropdown-module_menuItem__2COLT.Dropdown-module_disabled__sDjft .Dropdown-module_selectedIcon__2Bk9U{color:var(--menu-item-icon-color-disabled)}');const P=({filterable:e,getComboboxProps:r,children:d})=>e?o.createElement("div",Object.assign({},r({className:b})),d):o.createElement("div",{className:b},d);const V=({circularNavigation:l=!1,className:b,closeMenuOnSelect:V=!0,defaultValue:F=null,defaultValues:H=[],disabled:S=!1,filterable:W=!1,getItemId:A,helper:R,hideLabel:M=!1,invalid:Z=!1,isOptionDisabled:U,label:G,labelId:K,id:q="hds",inputId:Y,menuId:X,multiselect:J=!1,onChange:Q=(()=>null),optionLabelField:$="label",options:oo=[],placeholder:eo="",required:ro,selectedOption:lo,style:no,toggleButtonId:to,visibleOptions:ao=5})=>{var io,co;W&&J&&(J=!1);const so=e(null),[uo,_o]=r(oo),{getDropdownProps:mo,addSelectedItem:po,removeSelectedItem:wo,selectedItems:bo}=c(Object.assign(Object.assign({initialSelectedItems:H},J&&void 0!==lo&&{selectedItems:null!==(io=lo)&&void 0!==io?io:[]}),{onSelectedItemsChange:({selectedItems:o})=>J&&Q(o)})),vo=o=>{var e;return o&&null!==(e=o[$])&&void 0!==e?e:""},go=(o,{type:e,changes:r})=>{const{selectedItem:d}=r,l=(W?[u.stateChangeTypes.InputKeyDownEnter,u.stateChangeTypes.ItemClick]:[s.stateChangeTypes.MenuKeyDownEnter,s.stateChangeTypes.MenuKeyDownSpaceButton,s.stateChangeTypes.ItemClick]).includes(e);return J&&d&&l&&(bo.includes(d)?wo(d):po(d)),!V&&l?Object.assign(Object.assign({},r),{isOpen:o.isOpen,highlightedIndex:o.highlightedIndex}):r},ho=s(Object.assign(Object.assign(Object.assign({items:oo,circularNavigation:l,getItemId:A,id:q,initialSelectedItem:null!==(co=F)&&void 0!==co?co:null,itemToString:vo,labelId:K,menuId:X,onSelectedItemChange:({selectedItem:o})=>!J&&Q(o)},J&&{selectedItem:null}),!J&&void 0!==lo&&{selectedItem:lo}),{stateReducer:go,toggleButtonId:to})),Do=u(Object.assign(Object.assign(Object.assign({items:uo,inputId:Y,onInputValueChange:({inputValue:o})=>_o(oo.filter((e=>{var r;const d=o.toLowerCase();return((null===(r=e[$])||void 0===r?void 0:r.toLowerCase())||"").includes(d)}))),circularNavigation:l,getItemId:A,id:q,initialSelectedItem:F,itemToString:vo,labelId:K,menuId:X,onSelectedItemChange:({selectedItem:o})=>!J&&Q(o)},J&&{selectedItem:null}),!J&&void 0!==lo&&{selectedItem:lo}),{stateReducer:go,toggleButtonId:to})),{isOpen:fo,selectedItem:Io,getToggleButtonProps:xo,getLabelProps:ko,getMenuProps:yo,highlightedIndex:jo,getItemProps:Oo}=W?Do:ho;J||mo({},{suppressRefError:!0}),W?(ho.getMenuProps({},{suppressRefError:!0}),ho.getToggleButtonProps({},{suppressRefError:!0})):(Do.getMenuProps({},{suppressRefError:!0}),Do.getInputProps({},{suppressRefError:!0}),Do.getComboboxProps({},{suppressRefError:!0}));const zo=W?uo:oo,Co=J&&0===bo.length||!J&&!Io;return o.createElement("div",{className:d(p,Z&&x,S&&y,fo&&g,b),style:no},G&&o.createElement(m,Object.assign({inputId:q,hidden:M,label:G,required:ro},ko())),o.createElement(P,{filterable:W,getComboboxProps:Do.getComboboxProps},W&&o.createElement("input",Object.assign({},Do.getInputProps(Object.assign(Object.assign({},mo()),{type:"text",className:w,disabled:S,placeholder:eo})))),o.createElement("button",Object.assign({type:"button"},xo(Object.assign(Object.assign(Object.assign({},!W&&J&&Object.assign({},mo({},{suppressRefError:!0}))),W&&{"aria-labelledby":K||"".concat(q,"-label")}),{disabled:S,className:d(!W&&h,W&&I,Co&&D),ref:so,refKey:"ref"}))),(()=>{if(W)return null;const e=J?bo.map((o=>o[$])).join(", "):null==Io?void 0:Io[$];return o.createElement("span",{className:f},e||eo)})(),o.createElement(t,{className:v})),Z&&o.createElement(n,{className:N})),o.createElement("ul",Object.assign({},yo({className:d(j,zo.length>ao&&O),style:{maxHeight:"calc(var(--dropdown-height) * ".concat(ao,")")},onKeyDown:o=>{"Tab"===o.key&&(()=>{var o;null===(o=so.current)||void 0===o||o.focus()})()}})),fo&&zo.map(((e,r)=>{const l=e[$],n=J?function(o,e){return o.some((o=>_(o,e)))}(bo,e):_(Io,e),t="function"==typeof U&&U(e,r);return o.createElement("li",Object.assign({},Oo({key:"item-".concat(r),index:r,item:e,disabled:t,className:d(z,jo===r&&C,n&&E,t&&y,J&&T)})),J?o.createElement(i,{className:L,id:l,label:l,checked:n,disabled:t}):o.createElement(o.Fragment,null,l,n&&o.createElement(a,{className:B})))}))),R&&o.createElement("div",{className:k},R))};export{V as D};
